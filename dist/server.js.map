{"version":3,"file":"server.js","mappings":"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","sources":["webpack://demo1-reactssr/./src/Pages/Home/index.jsx","webpack://demo1-reactssr/./src/server/app.jsx","webpack://demo1-reactssr/./src/server/getLinks.js","webpack://demo1-reactssr/./src/server/getScripts.js","webpack://demo1-reactssr/./src/server/render.js","webpack://demo1-reactssr/./src/Pages/Home/index.module.css","webpack://demo1-reactssr/./node_modules/_css-loader@6.10.0@css-loader/dist/runtime/api.js","webpack://demo1-reactssr/./node_modules/_css-loader@6.10.0@css-loader/dist/runtime/sourceMaps.js","webpack://demo1-reactssr/./src/Pages/Home/index.module.css?a16b","webpack://demo1-reactssr/./node_modules/_isomorphic-style-loader@5.3.2@isomorphic-style-loader/insertCss.js","webpack://demo1-reactssr/external commonjs \"express\"","webpack://demo1-reactssr/external commonjs \"react\"","webpack://demo1-reactssr/external commonjs \"react-dom/server\"","webpack://demo1-reactssr/external node-commonjs \"fs\"","webpack://demo1-reactssr/webpack/bootstrap","webpack://demo1-reactssr/webpack/runtime/compat get default export","webpack://demo1-reactssr/webpack/runtime/define property getters","webpack://demo1-reactssr/webpack/runtime/hasOwnProperty shorthand","webpack://demo1-reactssr/webpack/runtime/make namespace object","webpack://demo1-reactssr/./src/server/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport sytles from \"./index.module.css\";\n\nconst Home = ()=>{\n    let [number,setNumber] = useState(0);\n    const handleClick = ()=>{\n        setNumber(++number)\n    }\n    return <div className={sytles.container}>\n        <h1>HomePage</h1>\n        <div className={sytles.bodyBtn}>\n         <span>Click to addï¼š </span>\n         <button onClick={handleClick} >+</button>\n         </div>\n      \n        <div className={sytles.bodyText}>{number}</div>\n    </div>\n}\n\nexport default Home;","import React from \"react\";\nimport Home from \"../Pages/Home\";\n\n\nconst App =  ()=>{\n    return <Home/>\n}\n\nexport default App;","import fs from \"fs\";\n\nexport default function(){\n    const linkNames = fs.readdirSync(\"./public/css\").filter(file=>file.endsWith(\".css\")).map(file=>\n        `<link rel=\"stylesheet\" href='./css/${file}'></link>`);\n    console.log(\"linkNames: \",linkNames)\n    return linkNames.join(\"\\n\");\n}\n\n","import fs from \"fs\";\n\nexport default function(){\n    const fileNames = fs.readdirSync(\"./public/js\").filter(file=>file.endsWith(\".js\")).map(file=>`<script src='./js/${file}'></script>`);\n    return fileNames.join(\"\\n\");\n}\n\n","import { renderToString } from \"react-dom/server\";\nimport App from \"./app\";\nimport React from \"react\";\nimport getScripts from \"./getScripts\";\nimport getLinks from \"./getLinks\";\n\nexport default (req,res)=>{\n    const renderHtml = renderToString(<App/>);\n    console.log(renderHtml);\n        const html = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>SSR</title>\n        ${getLinks()}\n    </head>\n    <body>\n        <div id=\"root\">${renderHtml}\n        </div>\n        ${getScripts()}\n    </body>\n    </html>\n    `\n     res.send(html);\n    }","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/_css-loader@6.10.0@css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/_css-loader@6.10.0@css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.container--e801c {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n}\n\n.bodyBtn--c408a {\n display: flex;\n align-items: center;\n justify-content: center;\n}\n\n.bodyText--c5e33 {\n  margin-top: 10px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/Pages/Home/index.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,2BAA2B;EAC3B,sBAAsB;AACxB;;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,uBAAuB;AACxB;;AAEA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\".container {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  flex-direction: column;\\n}\\n\\n.bodyBtn {\\n display: flex;\\n align-items: center;\\n justify-content: center;\\n}\\n\\n.bodyText {\\n  margin-top: 10px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"container\": `container--e801c`,\n\t\"bodyBtn\": `bodyBtn--c408a`,\n\t\"bodyText\": `bodyText--c5e33`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/_css-loader@6.10.0@css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./index.module.css\");\n    var insertCss = require(\"!../../../node_modules/_isomorphic-style-loader@5.3.2@isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/_css-loader@6.10.0@css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./index.module.css\", function() {\n        css = require(\"!!../../../node_modules/_css-loader@6.10.0@css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./index.module.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n'use strict';\n\nvar inserted = {};\n\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(\"0x\" + p1);\n  }));\n}\n\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(id);\n\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\nfunction insertCss(styles, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === void 0 ? false : _ref$prepend,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? 's' : _ref$prefix;\n\n  var ids = [];\n\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = styles[i],\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n    var id = \"\" + prefix + moduleId + \"-\" + i;\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n    var elem = document.getElementById(id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n\n    if (sourceMap && typeof btoa === 'function') {\n      cssText += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + b64EncodeUnicode(JSON.stringify(sourceMap)) + \"*/\";\n      cssText += \"\\n/*# sourceURL=\" + sourceMap.file + \"?\" + id + \"*/\";\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n//# sourceMappingURL=insertCss.js.map\n","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"fs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import render from \"./render\";\n\nconst express = require(\"express\");\nconst app = express();\n\napp.use(express.static(\"./public\"))\n\napp.get(\"*\",render);\n\napp.listen(8080,()=>{\n    console.log(\"litening to 8080 port....\")\n})\n"],"names":["React","useState","sytles","Home","number","setNumber","handleClick","createElement","className","container","bodyBtn","onClick","bodyText","App","fs","linkNames","readdirSync","filter","file","endsWith","map","console","log","join","fileNames","renderToString","getScripts","getLinks","req","res","renderHtml","html","send","render","express","require","app","use","static","get","listen"],"sourceRoot":""}